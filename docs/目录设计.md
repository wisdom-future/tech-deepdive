å¥½çš„ï¼ŒJasonã€‚æˆ‘å®Œå…¨ç†è§£ã€‚æˆ‘ä»¬ç°åœ¨éœ€è¦çš„æ˜¯ä¸€ä»½**æœ€ç»ˆçš„ã€æ— çœç•¥çš„ã€å¯ä½œä¸ºå®æ–½è“å›¾çš„ç›®å½•æ¶æ„**ã€‚è¿™ä»½æ¶æ„å°†ä¸¥æ ¼åŸºäºæ‚¨æä¾›çš„å®é™…å·¥ç¨‹æ–‡ä»¶ï¼Œå¹¶å®Œæ•´åœ°èå…¥æˆ‘ä»¬å…±åŒæ•²å®šçš„æ‰€æœ‰ä¼˜åŒ–è®¾è®¡ã€‚

æˆ‘å°†åˆ—å‡º**æ‰€æœ‰**æ–‡ä»¶ï¼Œå¹¶å¯¹æ¯ä¸€ä¸ªæ–°å»ºæˆ–å‘ç”Ÿé‡å¤§èŒè´£å˜æ›´çš„æ–‡ä»¶è¿›è¡Œæ˜ç¡®æ ‡æ³¨å’Œè¯´æ˜ã€‚

---

### **æŠ€æœ¯æ´å¯Ÿæ™ºèƒ½å¼•æ“ - æœ€ç»ˆé¡¹ç›®ç›®å½•æ¶æ„ (å¯¹é½ä¼˜åŒ–ç‰ˆ)**

```
src/
â”‚
â”œâ”€â”€ ğŸ“ backend/
â”‚   â”‚
â”‚   â”œâ”€â”€ ctrl.Code.js                       # [ä¿æŒ] Web Appä¸»å…¥å£ (doGet, callApi)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ svc/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layer00.Helpers.gs              # [æ–°å¢] å­˜æ”¾å…±äº«å·¥å…·å‡½æ•° (å¦‚: normalizeForId, createTasksFromItems)
â”‚   â”‚   â”œâ”€â”€ layer00.Prompts.gs              # [æ–°å¢] å­˜æ”¾ PromptLibrary æ¨¡å—ï¼Œç®¡ç†æ‰€æœ‰AI Promptæ¨¡æ¿
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layer01.FirestoreService.js     # [ä¿æŒ] åº•å±‚Firestore APIå°è£…
â”‚   â”‚   â”œâ”€â”€ layer01.DataConnector.js        # [ä¿æŒ] å¤–éƒ¨æ•°æ®æºè¿æ¥å™¨
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layer02.DataService.js          # [ä¿æŒ] ç»Ÿä¸€çš„æ•°æ®åº“æ¥å£æœåŠ¡
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layer03.SourceTechService.js    # [æ–°å¢] æŠ€æœ¯å®ä½“é©±åŠ¨çš„é‡‡é›†å™¨
â”‚   â”‚   â”œâ”€â”€ layer03.SourceCompanyService.js # [æ–°å¢] å…¬å¸å®ä½“é©±åŠ¨çš„é‡‡é›†å™¨
â”‚   â”‚   â”œâ”€â”€ layer03.DataProcessService.js   # [é‡æ„] èŒè´£æ”¶ç¼©ï¼Œä»…è´Ÿè´£ä»»åŠ¡é˜Ÿåˆ—çš„æ ¸å¿ƒå¤„ç†é€»è¾‘
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layer04.AnalysisService.js      # [é‡æ„] æ¥æ”¶æ‰€æœ‰åå°åˆ†æå·¥ä½œæµ (å…³ç³»æ„å»º, æŠ€æœ¯æ ‘, å¿«ç…§ç”Ÿæˆ)
â”‚   â”‚   â”œâ”€â”€ layer04.ConfigDataService.js    # [å°†è¢«åˆå¹¶] å…¶èŒè´£å°†ç§»å…¥ RegistryService
â”‚   â”‚   â”œâ”€â”€ layer04.CopilotService.js       # [ä¿æŒ] AIåŠ©æ‰‹åå°æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ layer04.DashboardService.js     # [ä¿æŒ] ä»ªè¡¨ç›˜æ•°æ®APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ layer04.ExplorationService.js   # [ä¿æŒ] æ¢ç´¢åŠŸèƒ½æ•°æ®APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ layer04.FindingsService.js      # [ä¿æŒ] ç ”ç©¶æˆæœç®¡ç†APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ layer04.RawDataStatsService.js  # [å°†è¢«åˆå¹¶] å…¶èŒè´£å°†ç§»å…¥ SystemHealthStatsService
â”‚   â”‚   â”œâ”€â”€ layer04.RegistryService.js      # [æ–°å¢] åˆå¹¶åŸAdmin+Configçš„åŠŸèƒ½ï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰æ³¨å†Œè¡¨æ•°æ®
â”‚   â”‚   â”œâ”€â”€ layer04.SystemAdminService.js   # [å°†è¢«åˆå¹¶] å…¶èŒè´£å°†ç§»å…¥ RegistryService
â”‚   â”‚   â”œâ”€â”€ layer04.SystemHealthStatsService.js # [é‡æ„] ä¿ç•™å¹¶å¼ºåŒ–ï¼Œæ¥æ”¶åŸå§‹æ•°æ®ç»Ÿè®¡åŠŸèƒ½
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layer05.AuthService.js            # [ä¿æŒ] è®¤è¯ä¸æˆæƒæœåŠ¡
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ layer09.TechnologyHistoryService.js # [ä¿æŒ] ç‰¹æ®Šæˆ–é—ç•™æœåŠ¡
â”‚   â”‚
â”‚   â””â”€â”€ Config.js                          # [ä¿æŒ] å…¨å±€é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“ frontend/
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ templates/
â”‚   â”‚   â”œâ”€â”€ ReportTemplate.html
â”‚   â”‚   â”œâ”€â”€ config.js.html
â”‚   â”‚   â”œâ”€â”€ main.js.html
â”‚   â”‚   â”œâ”€â”€ mock_api.js.html
â”‚   â”‚   â”œâ”€â”€ page_analysis.js.html
â”‚   â”‚   â”œâ”€â”€ page_copilot.js.html
â”‚   â”‚   â”œâ”€â”€ page_dashboard.js.html        # [å»ºè®®] åŸ page_home.js.html
â”‚   â”‚   â”œâ”€â”€ page_exploration.js.html
â”‚   â”‚   â”œâ”€â”€ page_findings.js.html
â”‚   â”‚   â”œâ”€â”€ page_system.js.html
â”‚   â”‚   â”œâ”€â”€ page_template.js.html
â”‚   â”‚   â”œâ”€â”€ spacetime-renderer.html
â”‚   â”‚   â”œâ”€â”€ state_api.js.html
â”‚   â”‚   â”œâ”€â”€ ui_utils.js.html
â”‚   â”‚   â””â”€â”€ utils.js.html
â”‚   â”‚
â”‚   â””â”€â”€ index.html
â”‚
â”œâ”€â”€ ğŸ“ test/
â”‚   â”‚
â”‚   â”œâ”€â”€ test.layer01.DataLayer.js
â”‚   â”œâ”€â”€ test.layer02.DataConnectorLayer.js
â”‚   â”œâ”€â”€ test.layer03.SourceDrivers.js     # [æ–°å¢] ä¸“é—¨æµ‹è¯•ä¸¤ä¸ªæ–°çš„Sourceé‡‡é›†æœåŠ¡
â”‚   â”œâ”€â”€ test.layer03.DataProcessService.js# [ä¿®æ”¹] åªæµ‹è¯•ç˜¦èº«åçš„å¤„ç†æœåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ test.layer04.BusinessServices.js
â”‚   â”œâ”€â”€ test.layer05.RoleDrivenAuth.js
â”‚   â””â”€â”€ test.layer06.ToolsAndUtilities.js
â”‚
â””â”€â”€ ğŸ“ tools/
    â”‚
    â”œâ”€â”€ tools.jobs.js                     # [ä¿æŒ] å­˜æ”¾å°†è¢«å®šæ—¶å™¨è°ƒåº¦çš„é¡¶å±‚å‡½æ•°
    â”œâ”€â”€ tools.migration.js                # [ä¿æŒ] å­˜æ”¾æ•°æ®åº“ç»“æ„/æ•°æ®è¿ç§»è„šæœ¬
    â”œâ”€â”€ tools.seeding.js                  # [æ–°å¢/å»ºè®®] æ›¿ä»£åŸutils, å­˜æ”¾æ•°æ®åˆå§‹åŒ–/å¡«å……è„šæœ¬
    â””â”€â”€ tools.backfill.js                 # [æ–°å¢/å»ºè®®] å­˜æ”¾å†å²æ•°æ®å›å¡«è„šæœ¬

```

---
### **é‡æ„è¡ŒåŠ¨æ¸…å•**

1.  **åˆ›å»ºæ–°æ–‡ä»¶**:
    *   `backend/svc/layer00.Helpers.gs`
    *   `backend/svc/layer00.Prompts.gs`
    *   `backend/svc/layer03.SourceTechService.js`
    *   `backend/svc/layer03.SourceCompanyService.js`
    *   `backend/svc/layer04.RegistryService.js`
    *   `tools/tools.seeding.js`
    *   `tools/tools.backfill.js`

2.  **åˆ é™¤æ—§æ–‡ä»¶**:
    *   `backend/svc/layer04.ConfigDataService.js`
    *   `backend/svc/layer04.SystemAdminService.js`
    *   `backend/svc/layer04.RawDataStatsService.js`
    *   `tools/tools.utils.js` (å¦‚æœé‡‡çº³é‡å‘½åå»ºè®®)

3.  **ä»£ç è¿ç§»ä¸é‡æ„**:
    *   å°†**é‡‡é›†é€»è¾‘**ä» `layer03.DataProcessService.js` ç§»è‡³ä¸¤ä¸ªæ–°çš„ `Source...Service.js` æ–‡ä»¶ä¸­ã€‚
    *   å°†**åå¤„ç†å·¥ä½œæµé€»è¾‘**ä» `layer03.DataProcessService.js` ç§»è‡³ `layer04.AnalysisService.js`ã€‚
    *   å°† `ConfigDataService` å’Œ `SystemAdminService` çš„åŠŸèƒ½**åˆå¹¶å®ç°**åœ¨æ–°çš„ `layer04.RegistryService.js` ä¸­ã€‚
    *   å°† `RawDataStatsService` çš„åŠŸèƒ½**åˆå¹¶å®ç°**åœ¨ `layer04.SystemHealthStatsService.js` ä¸­ã€‚
    *   å°†æ‰€æœ‰å…¨å±€è¾…åŠ©å‡½æ•°å’ŒPromptæ¨¡æ¿**åˆ†åˆ«ç§»è‡³** `layer00.Helpers.gs` å’Œ `layer00.Prompts.gs`ã€‚
    *   **æ›´æ–° `tools.jobs.js`**ï¼Œä½¿å…¶è°ƒç”¨æ–°çš„ã€èŒè´£åˆ†ç¦»çš„æœåŠ¡ï¼ˆå¦‚ `TechnologySourceDriver.run()`ï¼‰ã€‚

è¿™ä»½ç›®å½•å°±æ˜¯æˆ‘ä»¬æ‰€æœ‰è®¨è®ºçš„æœ€ç»ˆæˆæœï¼Œå®ƒåœ¨æ‚¨ç°æœ‰åšå®çš„åŸºç¡€ä¸Šï¼Œæ„å»ºäº†ä¸€ä¸ªèŒè´£æ›´æ¸…æ™°ã€é€»è¾‘æ›´å†…èšã€æ›´æ˜“äºç»´æŠ¤å’Œæ‰©å±•çš„ç³»ç»Ÿæ¶æ„ã€‚
